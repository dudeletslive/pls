extends ../../layouts/default

block content
	div.contact-list: div.jumbotron: .container
		div.title
			div.nav.navbar-nav.navbar-left.col-md-6
				span.icon.home
				h2
					a(href='../mailing-lists/') Contact Lists | &nbsp;
					span= list.listName
			div.nav.navbar-nav.navbar-right.col-md-6
				a(data-toggle="modal",data-target="#myModal").btn.btn-md.btn-success ADD CONTACT
				p
					span#count= Object.keys(obj).length
					| &nbsp;
					span Contacts
			div.clearfix
		div.col-md-12.line
		div.col-md-12
			table.table.table-bordered.table-striped.table-responsive#table-contact-list
				thead
					tr
						th Edit
						th(id='lastName'): a(href='/mailing-lists/' + list.slug + '?sortBy=firstName', data-ajax="true") LAST NAME
						th(id='firstName'): a(href='/mailing-lists/' + list.slug + '?sortBy=lastName', data-ajax="true") ENV_LINE
						th(id='address1'): a(href='/mailing-lists/' + list.slug + '?sortBy=address1', data-ajax="true") ADDRESS 1
						th(id='address2'): a(href='/mailing-lists/' + list.slug + '?sortBy=address2', data-ajax="true") ADDRESS 2
						th(id='address3'): a(href='/mailing-lists/' + list.slug + '?sortBy=address3', data-ajax="true") ADDRESS 3
						th(id='city'): a(href='/mailing-lists/' + list.slug + '?sortBy=city', data-ajax="true") CITY
						th(id='state'): a(href='/mailing-lists/' + list.slug + '?sortBy=state', data-ajax="true") STATE
						th(id='zip'): a(href='/mailing-lists/' + list.slug + '?sortBy=zip', data-ajax="true") ZIP
				tbody
					for key, value in obj
						tr
							td: a(data-toggle="modal",data-target='#' + value)
								img(src='../images/edit-icon.png')
							td= key.firstName
							td= key.lastName
							td= key.address1
							td= key.address2
							td= key.address3
							td= key.city
							td= key.state
							td= key.zip
		//- for key, value in obj
		//- 	-var string = JSON.stringify(obj[value]);
		//- 	div.modal.fade(id=value,tabindex='-1',role='dialog',aria-hidden="true")
		//- 		div.modal-dialog.modal-ms
		//- 			div.modal-content
		//- 				div.modal-body: div.panel
		//- 					h1 Edit Contact
		//- 					br
		//- 					h4 Array You're Editing
		//- 					form#account
		//- 						input#string(value=string)
		//- 						.form-group.clearfix
		//- 							.col-md-6(style="padding-right: 0px;")
		//- 								label(for="f_name") FIRST NAME
		//- 								input(name="f_name", id="fName" class="left form-control", placeholder="Jonathan", data-value=key.lastName, value=key.lastName)
		//- 							.col-md-6(style="padding-left: 0px;")
		//- 								label(for="l_name") LAST NAME
		//- 								input(name="l_name", class="right form-control", placeholder="Bell", value=key.firstName)
		//- 						.form-group.clearfix
		//- 							.col-md-12
		//- 								label(for="env_line") ENV_LINE 
		//- 								input(name="env_line", class="form-control", placeholder="Jonathan Bell")
		//- 						.form-group.clearfix
		//- 							.col-md-12
		//- 								label(for="address_1") ADDRESS 1
		//- 								input(name="address_1", class="form-control", placeholder="5234 Ferrari Drive", value=key.address1)
		//- 						.form-group.clearfix
		//- 							.col-md-12
		//- 								label(for="address_2") ADDRESS 2
		//- 								input(name="address_2", class="form-control", placeholder="Apt, Building Number, etc.", value=key.address2)
		//- 						.form-group.clearfix
		//- 							.col-md-12
		//- 								label(for="address_3") ADDRESS 3
		//- 								input(name="address_3", class="form-control", placeholder="", value=key.address3)
		//- 						.form-group.clearfix
		//- 							.col-md-6(style="padding-right: 0px;")
		//- 								label(for="city") CITY
		//- 								input(name="city", class="left form-control", placeholder="", value=key.city)
		//- 							.col-md-6(style="padding-left: 0px;")
		//- 								label(for="zip") ZIP
		//- 								input(name="zip", class="right form-control", placeholder="", value=key.zip)
		//- 						.form-group.clearfix
		//- 							.col-md-12
		//- 								label(for="state") STATE
		//- 								input(name="state", class="form-control", placeholder="", value=key.state)
		//- 						.form-group.clearfix#formFooter
		//- 							.col-md-12
		//- 								button(type="submit", id="updateContact").btn.btn-success.center SAVE
block js